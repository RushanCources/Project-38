{% extends 'base.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/admin_menu/admin.css' %}">
<title>Администрирование</title>
{% endblock head %}
{% block content %}

<div class="main-nav">
    <div class="search">
        <input class="search-input" type="text" placeholder="Поиск...">
        <button class="search-button"></button>
    </div>
    <div class="filter">
        <div class="div-list">
            <p class="list-name">Группа:</p>
            <div class="list-names">
                <p class="list-p">Не указано</p>
                <ul class="list">
                    <li class="list-li">Не указано</li>
                    <li class="list-li">1</li>
                    <li class="list-li">2</li>
                    <li class="list-li">3</li>
                    <li class="list-li">4</li>
                    <li class="list-li">5</li>
                    <li class="list-li">6</li>
                    <li class="list-li">7</li>
                    <li class="list-li">10</li>
                    <li class="list-li">11</li>
                    <li class="list-li">12</li>
                    <li class="list-li">13</li>
                    <li class="list-li">14</li>
                    <li class="list-li">15</li>
                    <li class="list-li">16</li>
                    <li class="list-li">17</li>
                    <li class="list-li">20</li>
                    <li class="list-li">21</li>
                    <li class="list-li">22</li>
                    <li class="list-li">23</li>
                    <li class="list-li">24</li>
                    <li class="list-li">25</li>
                    <li class="list-li">26</li>
                    <li class="list-li">27</li>
                </ul>
            </div>
        </div>
        <div class="div-list">
            <p class="list-name">Роль:</p>
            <div class="list-names">
                <p class="list-p">Не указано</p>
                <ul class="list sub-list">
                    <li class="list-li">Не указано</li>
                    <li class="list-li">Ученик</li>
                    <li class="list-li">Учитель</li>
                    <li class="list-li">Администратор</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<table class="table">
    <tbody>
        <tr class="table-names">
            <td>id</td>
            <td class="table-username">ФИО</td>
            <td class="table-group">Группа</td>
            <td class="table-role">Роль</td>
            <td>Логин</td>
            <td class="func">
                <button class="new-user table-btn" onclick="n_user()"></button>
            </td>
        </tr>
        {% for user in users %}
        <tr class="table-user">
            <td>{{ user.id }}</td>
            <td>
                <span class="surname">{{ user.last_name }}</span>
                <span class="name">{{ user.first_name }}</span>
                <span class="patronymic">{{ user.middle_name }}</span>
            </td>
            <td class="table-td-group">
                {% if user.role == "Ученик" %}
                {{ user.group }}
                {% endif %}
            </td>
            <td>{{ user.role }}</td>
            <td>{{ user.username }}</td>
            <td class="table-hidden">{{ user.password }}</td>
            <td class="func">
                <button class="change table-btn"></button>
                <button class="delete table-btn"></button>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<form class="new-user-block" method="POST" id="form" action="{% url 'admin_menu' %}">
    {% csrf_token %}
    <p class="new-user-p">Создание пользователя</p>
    <div class="new-user-main">
        <div class="inputs">
            {% csrf_token %}
            <input class="input input-surname" type="text" placeholder="Фамилия" name="surname_input" required>
            <input class="input input-name" type="text" placeholder="Имя" name="name_input" required>
            <input class="input input-patronymic" type="text" placeholder="Отчество" name="patronymic_input" required>
            <input class="input input-login" type="text" placeholder="Логин" name="login_input" required>
            <input type="text" class="input input-password" placeholder="Пароль" name="password_input">
            <input type="number" class="form-id" name="user_id_edit" required>
            <input type="text" class="form-group" value="1" name="group_input" required>
        </div>
        <div class="lists">
            <div class="new-user-role">
                <div>
                    <label class="role-name" for="role1">Ученик</label>
                        <input class="input-role" type="radio" name="role" id="role1" value="Ученик" checked>
                    </div>
                    <div>
                        <label class="role-name" for="role2">Учитель</label>
                        <input class="input-role" type="radio" name="role" id="role2" value="Учитель">
                    </div>
                    <div>
                        <label class="role-name" for="role3">Админ</label>
                        <input class="input-role" type="radio" name="role" id="role3" value="Администратор">
                </div>
            </div>

            <div class="new-user-group">
                <p class="list-name">Группа:</p>
                <div class="list-names">
                    <p class="list-p n-hidden" id="group-p">1</p>
                    <ul class="list" id="group-list">
                        <li class="list-li">1</li>
                        <li class="list-li">2</li>
                        <li class="list-li">3</li>
                        <li class="list-li">4</li>
                        <li class="list-li">5</li>
                        <li class="list-li">6</li>
                        <li class="list-li">7</li>
                        <li class="list-li">10</li>
                        <li class="list-li">11</li>
                        <li class="list-li">12</li>
                        <li class="list-li">13</li>
                        <li class="list-li">14</li>
                        <li class="list-li">15</li>
                        <li class="list-li">16</li>
                        <li class="list-li">17</li>
                        <li class="list-li">20</li>
                        <li class="list-li">21</li>
                        <li class="list-li">22</li>
                        <li class="list-li">23</li>
                        <li class="list-li">24</li>
                        <li class="list-li">25</li>
                        <li class="list-li">26</li>
                        <li class="list-li">27</li>
                    </ul>
                    <div class="block"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="new-user-btns">
        <button class="btn exit" onclick="exit()" type="button">Отмена</button>
        <button class="btn create" onclick="create()" type="submit">Создать</button>
    </div>
</form>

<div class="delete_page">
    <p class="delete-p">Вы уверены, что хотите удалить/скрыть пользователя?</p>
    <p>Пользователь: <span class="delete-fio">Кабанин Денис Андреевич</span></p>
    <div class="delete-btns">
        <button class="btn exit" type="submit" onclick="del_exit()">Отмена</button>
        <button class="btn delete-btn" type="submit">Скрыть</button>
        <button class="btn delete-btn" type="submit">Удалить</button>
        <input type="number" class="user-id" style="position: absolute; top: 0;">
    </div>
</div>

<div class="back-form"></div>

<script src="{% static 'js/admin_menu/admin.js' %}"></script>
<script src="{% static 'js/global/list.js' %}"></script>

{% endblock content %}
